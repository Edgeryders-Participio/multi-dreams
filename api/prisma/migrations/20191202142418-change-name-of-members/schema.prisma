generator photon {
  provider = "photonjs"
}

datasource db {
  provider = "postgresql"
  url = "***"
}

model User {
  id          String       @default(cuid()) @id
  email       String       @unique
  memberships Membership[]
  name        String?
  avatar      String?
}

model Membership {
  id         String   @default(cuid()) @id
  user       User
  event      Event
  isActive   Boolean  @default(false)
  isApproved Boolean  @default(false)
  isAdmin    Boolean  @default(false)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}

model Event {
  id          String       @default(cuid()) @id
  slug        String       @unique
  title       String
  description String?
  logo        String?
  memberships Membership[]
  dreams      Dream[]
  createdAt   DateTime     @default(now())
  updatedAt   DateTime     @updatedAt
}

model Dream {
  id                String       @default(cuid()) @id
  slug              String       @unique
  title             String
  description       String
  event             Event
  images            String[]
  team              Membership[]
  minFunding        Int?
  maxFunding        Int?
  budgetDescription String?
  createdAt         DateTime     @default(now())
  updatedAt         DateTime     @updatedAt
}